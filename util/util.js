define("#util/0.1.1/route/route",["#jquery/1.8.2/jquery","#underscore/1.4.2/underscore"],function(e,t,n){return function(t){var n=e("#jquery/1.8.2/jquery"),r=e("#underscore/1.4.2/underscore");r.each(t,function(t,i){n(i)[0]&&r.isFunction(t)?t():n(i)[0]&&r.isString(t)&&e.async("../app/"+t)})}}),define("#util/0.1.1/cookie/cookie",[],function(e,t,n){function i(e){return e.replace(/^[\s]+|[\s]+$|(;)[\s]+|(=)[\s]+/,"$1")}function s(e){var t=encodeURIComponent(e)+"=",n=r.cookie.indexOf(t),i=null;if(n>-1){var s=r.cookie.indexOf(";",n);s==-1&&(s=r.cookie.length),i=decodeURIComponent(r.cookie.substring(n+t.length,s))}return i}function o(e,t,n,i,s,o){var u=encodeURIComponent(e)+"="+encodeURIComponent(t);n instanceof Date&&(u+="; expires="+n.toGMTString()),i&&(u+="; path="+i),s&&(u+="; domain="+s),o&&(u+="; secure"),r.cookie=u}function u(e,t,n,r){o(e,"",new Date(0),t,n,r)}function a(){var e=r.cookie,t=e.split("=");for(var n=t.length;n--;){var s=t[n].split(";");s.length>1?u(i(s[1])):u(i(s[0]))}}var r=document;n.exports={set:o,get:s,remove:u,removeAll:a}}),define("#util/0.1.1/gif/gif",["#jquery/1.8.2/jquery"],function(e,t,n){seajs.importStyle('#ajax-loader{width:76px;height:30px;display:none;padding-left:35px;margin-left:-35px;background:#545454 url("/Zonda/images/load.gif") no-repeat;background-position:7px 7px;position:fixed;top:15%;left:50%;z-index:1000;box-shadow:0 0 5px rgba(0,0,0,.2);border-radius:5px;line-height:30px;color:#fff;font-size:14px}',"#util/0.1.1/gif/gif");var r=e("#jquery/1.8.2/jquery"),i=function(e){try{r("#ajax-loader").remove()}catch(t){}r(document.body).append('<div id="ajax-loader" style="display: none;">Loading ...</div>'),e&&e.css&&r("#ajax-loader").css(e.css)};i.open=function(){return r("#ajax-loader").fadeIn("fast"),this},i.close=function(){return r("#ajax-loader").fadeOut("slow"),this},i(),n.exports=i}),define("#util/0.1.1/dialog/dialog",["#bootstrap/2.2.1/bootstrap","#jquery/1.8.2/jquery","#underscore/1.4.2/underscore"],function(e,t,n){var r=e("#bootstrap/2.2.1/bootstrap"),i=e("#underscore/1.4.2/underscore"),s='<div class="modal hide " id="util-dialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button> <h3 id="myModalLabel"><%= title %></h3> </div> <div class="modal-body"> <%= content %> </div> <div class="modal-footer"> <button class="btn" data-dismiss="modal" aria-hidden="true">取消</button> </div> </div>',o=function(e){return r("#util-dialog:visible")[0]?!1:(r(document.body).append(i.template(s,{title:e.title,content:e.content})),e.css&&r("#util-dialog").css(e.css),i.each(e.button,function(e,t){var n=i.uniqueId("dialog-button-");r("#util-dialog .modal-footer").append('<button id="'+n+'" class="btn btn-success">'+t+"</button>"),r("#"+n).click(e)}),r("#util-dialog").on("hide",function(){delete r("#util-dialog").modal,r("#util-dialog").remove()}),this)};o.open=function(){r("#util-dialog").modal({show:!0,backdrop:!1});var e=r("#util-dialog").outerHeight();return r("#util-dialog").css({"margin-top":-e/2}),this},o.close=function(e){e?setTimeout(function(){r("#util-dialog").modal("hide")},e):r("#util-dialog").modal("hide")},o.dom=r("#util-dialog"),n.exports=o}),define("#util/0.1.1/verify/verify",["./verification","#underscore/1.4.2/underscore","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#underscore/1.4.2/underscore"),i=function(t,n){t===void 0&&(t="pre"),n===void 0&&(n="body");var i=[],s=e("./verification"),o=e("#jquery/1.8.2/jquery");return o.fn.msg=function(e){e.status===0?(o(this).addClass("error").find(".help-inline").text(e.info),t==="all"&&i.push(0)):o(this).removeClass("error").find(".help-inline").text("")},o(n).find(".control-group").each(function(){var e=o(this).find("[ruler]:visible"),t=this;e[0]&&e.live("change",function(){var n={ruler:e.attr("ruler"),data:e.val()};o(t).msg(s.check(n))})}),t==="all"&&(i=[],o(n).find(".control-group").each(function(){var e=o(this).find("[ruler]:visible"),t=this;if(e[0]){var n={ruler:e.attr("ruler"),data:e.val()};return o(t).msg(s.check(n))}})),r.include(i,0)?(o(n).find(".control-group.error").eq(0).find("[ruler]:visible").focus(),!1):!0};n.exports=i}),define("#util/0.1.1/verify/verification",["#underscore/1.4.2/underscore","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#underscore/1.4.2/underscore"),i=e("#jquery/1.8.2/jquery"),s=function(e){var t={},n={};try{if(r.isArray(e))for(var i=0;i<e.length;i++){n=o(e[i].name,e[i].data,e[i].ruler,e[i].title);if(n.status===0)return n;t[e[i].name]=e[i].data}else{if(!r.isObject(e))throw r.isEmpty(e)?new Error("待验证数据为空!"):new Error("待验证数据格式不正确!");n=o(e.name,e.data,e.ruler,e.title);if(n.status===0)return n;t=e}}catch(s){typeof console!==undefined?console.error(s.message):(console={},alert(s.message))}return t},o=function(e,t,n,r){var i={};return n=JSON.parse(n),r===undefined&&(r=""),n.required&&/^\s*$/.test(t)?(i.info=r+"不能为空",i.status=0,i):n.noblank&&/\s{1,}/.test(t)?(i.info=r+"此项内容不能包含空格",i.status=0,i):n.xxs&&/<{1,}|>{1,}/.test(t)?(i.info=r+"“<”“>”为非法字符",i.status=0,i):n.type==="number"&&!/^(\d{1,}-){0,}\d*$/.test(t)?(i.info=r+"格式不是数字",i.status=0,i):n.type==="phone"&&!/^\d{11}$/.test(t)?(i.info=r+"手机号码不正确",i.status=0,i):n.type==="email"&&!/^.{1,}@.{1,}\.{1,}\w{1,}$/.test(t)?(i.info=r+"格式不为Email",i.status=0,i):n.type==="select"&&n.vacancy===t?(i.info=r+"未选择",i.status=0,i):(i.status=1,i.info=r+"通过验证",i)};n.exports={check:s}}),define("#util/0.1.1/stateMachine/stateMachine",["#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#jquery/1.8.2/jquery"),i={bind:function(){this.o||(this.o=r({})),this.o.bind.apply(this.o,arguments)},trigger:function(){this.o||(this.o=r({})),this.o.trigger.apply(this.o,arguments)}},s=function(){};s.fn=s.prototype,r.extend(s.fn,i),s.fn.add=function(e){this.bind("change",function(t,n){e===n?e.activate():e.deactivate()}),e.active=r.proxy(function(){this.trigger("change",e)},this)},n.exports=s}),define("#util/0.1.1/rightClickMenu/rightClickMenu",["#bootstrap/2.2.1/bootstrap","#jquery/1.8.2/jquery","#underscore/1.4.2/underscore"],function(e,t,n){var r=e("#bootstrap/2.2.1/bootstrap"),i=e("#underscore/1.4.2/underscore");r(document.body).append('<ul id="right-click-menu" class="dropdown-menu" style="display:none;" role="menu" aria-labelledby="dropdownMenu"></ul>'),r(window).click(function(e){e.button!==2&&r("#right-click-menu").empty().hide()});var s=function(e){r(e.scope).contextmenu(function(t){return t.stopPropagation(),o(t,e),!1})},o=function(e,t){var n=r(e.target);n.parents().each(function(){i.include(r(t.target),r(this)[0])&&(n=r(this))});if(!i.include(r(t.target),n[0]))return!1;r("#right-click-menu").empty().css({top:e.clientY,left:e.clientX,display:"block"}),i.each(t.option,function(t,s){var o=i.uniqueId("right-click-menu-option-");r("#right-click-menu").append('<li><a href="javascript:;" id="'+o+'" class="right-click-menu-li">'+s+"</a></li>"),r("#right-click-menu").delegate("#"+o,"click",function(){e.stopPropagation(),r("#right-click-menu").hide().undelegate("click"),t(n)})})};n.exports=s}),define("#util/0.1.1/ajax/ajax",["../dialog/dialog","#jquery/1.8.2/jquery","#bootstrap/2.2.1/bootstrap","#underscore/1.4.2/underscore"],function(e,t,n){var r=e("#jquery/1.8.2/jquery"),i=e("../dialog/dialog");r.ajaxSetup({type:"POST",dataType:"JSON",error:function(e){i({title:"发生错误了！！",content:e.responseText})}}),n.exports=r.ajax}),define("#util/0.1.1/slide/slide",["#underscore/1.4.2/underscore","#easing/1.3.0/easing","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#underscore/1.4.2/underscore"),i=e("#easing/1.3.0/easing");t.config={};var s={slideDOM:""},o={speed:2e3,pageDOM:null,pageNum:!1,pageThumb:!1,animation:"fade",cutover:!1},u=function(){if(r.isEqual(o,t.config))return!1;r.extend(o,t.config),t.config=o;try{r.each(s,function(e,n){if(!r.has(t.config,n))throw new Error("Slide模块未配置"+n)})}catch(e){window.console!==undefined?console.error(e.message):alert(e.message)}},a=!0,f,l=-1,c,h;t.play=function(e){clearTimeout(f);if(e===undefined)return l===t.slideLength-1?t.play(0):(l+=1,t.play(l)),!1;l=Math.abs(e),t.config.animation==="fade"?(c.fadeOut("slow"),c.eq(l).stop().fadeIn("slow")):t.config.animation==="callBackFade"?c.fadeOut("fast",function(){c.eq(l).fadeIn("fast")}):t.config.animation==="slip"?(c.eq(l-1).stop().animate({left:"-=960px",opacity:"0"},500),c.eq(l).css({left:"960px",opacity:"0"}),c.eq(l).stop().animate({left:"-=960px",opacity:"100"},1500)):(c.hide(),c.eq(l).show()),h&&(h.removeClass("on"),h.eq(l).addClass("on")),l===0&&t.config.cutover?(i(t.config.pageDOM).find(".prev").addClass("beginning"),i(t.config.pageDOM).find(".next").removeClass("end")):l===t.slideLength-1&&t.config.cutover?(i(t.config.pageDOM).find(".next").addClass("end"),i(t.config.pageDOM).find(".prev").removeClass("beginning")):(i(t.config.pageDOM).find(".prev").removeClass("beginning"),i(t.config.pageDOM).find(".next").removeClass("end")),a&&(f=setTimeout(function(){t.play()},t.config.speed))},t.stop=function(){a=!1,clearTimeout(f)},t.pause=function(){a?(a=!1,clearTimeout(f)):(a=!0,t.play())},t.next=function(){l!==t.slideLength-1&&(l+=1),t.play(l)},t.prev=function(){l!==0&&(l-=1),t.play(l)},t.init=function(){u(),t.slideLength=i(t.config.slideDOM).find(">li").size(),c=i(t.config.slideDOM).find(">li");if(t.config.pageDOM!==null&&t.slideLength>1){var e;c.each(function(n){t.config.pageNum?e='<li><a class="slide-page-cell" page="'+n+'">'+n+"</a></li>":t.config.pageThumb?e='<li><a class="slide-page-cell" page="'+n+'"><img src="'+i(this).find("img").attr("src")+'" /></a></li>':e='<li><a class="slide-page-cell" page="'+n+'"></a></li>',i(t.config.pageDOM).append(e)}),t.config.cutover&&(i(t.config.pageDOM).prepend('<li><a class="prev"></a></li>'),i(t.config.pageDOM).append('<li><a class="next"></a></li>'),i(t.config.pageDOM).find(".next").click(function(){t.next()}),i(t.config.pageDOM).find(".prev").click(function(){t.prev()})),h=i(t.config.pageDOM).find("li"),h.each(function(){var e=i(this).find("a.slide-page-cell").attr("page");i(this).click(function(){t.play(e)})})}t.play(),t.slideLength===1&&(a=!1,t.stop())}}),define("#util/0.1.1/scaffold/scaffold",["#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#jquery/1.8.2/jquery");t.makeGrid=function(e,n,i){t.destroyGrid();if(!e||!n||!i)e=60,n=12,i=20;var s='<div class="scaffold-grid-wrap"></div>';r(document.documentElement).append(s),s=r(".scaffold-grid-wrap"),s.css({display:"none",width:(e+i)*n+"px",position:"absolute",left:"50%","margin-left":-1*(e+i)*n/2+"px","z-index":1e3,top:0,height:r(document.documentElement).height(),background:"rgba( 255, 255, 255, 0.2)"});var o='<div class="scaffold-column"></div>';for(var u=0;u<n;u++)s.append(o);r(".scaffold-column").css({width:e+"px",height:"100%","float":"left","margin-left":i/2+"px","margin-right":i/2+"px",background:"rgba( 0, 0, 0, 0.3)"})},t.toggleGrid=function(){r(".scaffold-grid-wrap")[0]?r(".scaffold-grid-wrap").slideToggle("fast"):window.console&&console.log("No Grid System Schematic!")},t.destroyGrid=function(){r(".scaffold-grid-wrap")[0]?r(".scaffold-grid-wrap").remove():window.console&&console.log("Grid System Schematic Destroy!")}}),define("#util/0.1.1/upload/upload",["#underscore/1.4.2/underscore","#jquery/1.8.2/jquery","#backbone/0.9.2/backbone"],function(e,t,n){var r=e("#underscore/1.4.2/underscore"),i=e("#jquery/1.8.2/jquery"),s=e("#backbone/0.9.2/backbone");r.extend(t,s.Events),t.loading=function(e){t.on("loading",function(t){e(t)})},t.ready=function(e){t.on("ready",function(t){e(t)})},t.config={};var o={url:"",fileType:"",fileList:"",msg:""};i.browser.msie&&(o.uploadForm="");var u={fileTpl:'<li> <a href="" target="_blank"> <%= fileName %> </a> &nbsp;&nbsp; <progress></progress> <span class="delete red"> &times; </span> </li>'},a=function(){if(r.isEqual(u,t.config))return!1;r.extend(u,t.config),t.config=u;try{r.each(o,function(e,n){if(!r.has(t.config,n))throw new Error("上传文件模块未配置"+n)})}catch(e){window.console!==undefined?console.error(e.message):alert(e.message)}r.isString(t.config.fileType)&&(t.config.fileType=t.config.fileType.replace(/\s{1,}/g,""),t.config.fileType=t.config.fileType.split(","))},f=function(e){var n=[],s=[];if(e.length!==undefined&&e.length===0)n.push("暂不支持直接上传文件夹，请压缩后上传<br />");else if(i.browser.msie){var o=i(t.config.uploadForm).find("input:file").val().split("."),u=r.last(o).toLowerCase();return r.include(t.config.fileType,u)?1:(n.push('<span class="black">[ '+o+" ]</span> 为不允许上传的文件类型<br />"),t.config.msg({status:0,info:n.toString()}),0)}return r.each(e,function(e,i){var o=e.name.split("."),u=r.last(o).toLowerCase();o.length===1?n.push('<span class="black">[ '+e.name+" ]</span> 无后缀名，请重新选择<br />"):r.include(t.config.fileType,u)?s.push(e):n.push('<span class="black">[ '+e.name+" ]</span> 为不允许上传的文件类型<br />")}),n.length===0?t.config.msg({status:1,info:"success"}):t.config.msg({status:0,info:n.toString()}),s},l=function(e){var t=e.split("."),n=r.last(t).toLowerCase(),i=["jpeg","jpg","png","gif","bmp"],s=["doc","docx","ppt","pptx","xls","xlsx"];return r.include(i,n)?"1":r.include(s,n)?"2":"3"},c=function(e,n,s){this.fileName=e,this.fileType=n,this.fileSize=s;var o=r.template(t.config.fileTpl,this);i(t.config.fileList).prepend(o),this.dom=i(t.config.fileList).find("li").eq(0);var u=this;return i(this.dom).find(".delete").click(function(){u.dom.remove()}),this},h=null,p,d=function(){p=i(t.config.uploadForm).find("input:file").val();if(!f(p))return!1;t.trigger("loading","Sending..."),h===null&&(h=i('iframe[name="'+t.config.uploadForm.target+'"]')),h.attr("isBind")!=="yes"&&(h.attr("isBind","yes"),h.on("load",function(){var e=new c(p);try{var n=window.frames[t.config.uploadForm.target].data;n.status===1?(e.dom.find("a").attr("href",n.data.url),t.trigger("ready","Ready")):(t.config.msg({status:0,info:"发生错误: "+e.fileName+n.info}),e.dom.remove(),t.trigger("ready","Error"))}catch(r){t.config.msg({status:0,info:"发生错误: "+e.fileName+r}),e.dom.remove(),t.trigger("ready","Error")}})),i(t.config.uploadForm).submit()};t.upload=function(e){a();if(i.browser.msie)return d(),!1;var n=f(e);r.each(n,function(e,n){var r=new c(e.name,e.type,e.size),s=new XMLHttpRequest,o=new FormData;o.append("file",e),o.append("upload_type",l(e.name)),o.append("ajax",1),s.open("POST",t.config.url,!0),t.trigger("loading","Sending");if(i(r.dom).find("progress")[0]){var u=i(r.dom).find("progress")[0];u.min=0,u.max=100,u.value=0,s.onload=function(){i(u).hide()},s.upload.onprogress=function(e){e.lengthComputable&&(u.value=u.innerHTML=e.loaded/e.total*100||0)}}s.onreadystatechange=function(){if(s.readyState===4)try{var e=i.parseJSON(s.response);e.status===1?(r.dom.find("a").attr("href",e.data.url),t.trigger("ready","完成")):(t.config.msg({status:0,info:"发生错误: "+r.fileName+e.info}),r.dom.remove(),t.trigger("ready","Error"))}catch(n){t.config.msg({status:0,info:"发生错误: "+n}),t.trigger("ready","Error")}},s.send(o)})}}),define("#util/0.1.1/rpc/rpc",["./rpcContainer","./client/rpcClient","./transport/httpClientTransport","#underscore/1.4.2/underscore","#backbone/0.9.2/backbone","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("./rpcContainer"),i=function(e){var t=new r(e);this.newClient=function(){return t.client},this.newServer=function(){return t.server}};n.exports=i}),define("#util/0.1.1/rpc/rpcContainer",["./client/rpcClient","./transport/httpClientTransport","#underscore/1.4.2/underscore","#backbone/0.9.2/backbone","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#underscore/1.4.2/underscore"),i=e("./client/rpcClient"),s=e("./transport/httpClientTransport"),o=function(e){return this.transport=new s,r.extend(this,e),this.client=new i(this.transport),this};n.exports=o}),define("#util/0.1.1/rpc/client/rpcClient",["#backbone/0.9.2/backbone","#underscore/1.4.2/underscore","#jquery/1.8.2/jquery"],function(e,t,n){var r=e("#backbone/0.9.2/backbone"),i=e("#jquery/1.8.2/jquery"),s=e("#underscore/1.4.2/underscore"),o=r.Model.extend({initialize:function(e){var t=this;this.transport=e;var n=["ready:request","error:request","ready:dial","error:dial"];s.each(n,function(e){t.transport.on(e,function(n,r){t.trigger(e,n,r)})})},dial:function(e,t){this.url=e,this.transport.dial(e,t)},request:function(e,t,n){var r={method:e,url:this.url,data:t};this.transport.request(r,n)}});n.exports=o}),define("#util/0.1.1/rpc/transport/httpClientTransport",["#backbone/0.9.2/backbone","#underscore/1.4.2/underscore","#jquery/1.8.2/jquery"],function(e,t,n){function r(){var t=e("#backbone/0.9.2/backbone"),n=e("#underscore/1.4.2/underscore");return n.extend(this,t.Events),this.status=0,this.dial=function(e,t){this.url=e;var n=this;t=t||function(){},$.ajax({url:this.url,type:"POST",dataType:"JSON",data:{},error:function(e){n.trigger("error:dial",e)},success:function(e){n.trigger("ready:dial",e),t(e)}})},this.request=function(e,t){var n=this;t=t||function(){},$.ajax({url:this.url,type:"POST",dataType:"JSON",data:e,error:function(t){n.trigger("error:request",t,e)},success:function(r){switch(r.status){case 1:n.trigger("ready:request",r,e);break;case 0:n.trigger("error:request",r,e);break;default:n.trigger("ready:request",r,e)}t(r,e)}})},this}n.exports=r}),define("#util/0.1.1/localStorageSync/sync",["#underscore/1.4.2/underscore"],function(e,t,n){function i(){return((1+Math.random())*65536|0).toString(16).substring(1)}function s(){return i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i()}var r=e("#underscore/1.4.2/underscore"),o=function(){if(window.localStorage===undefined)throw new Error("No localStorage!");return window.localStorage.zondaStorage=JSON.stringify({}),this.set=function(e){if(!e)return!1;window.localStorage.zondaStorage=JSON.stringify(e)},this.get=function(){return JSON.parse(window.localStorage.zondaStorage)},this},u=new o,a=function(e){e.id===undefined&&(e.id=s(),e.set(e.idAttribute,e.id));var t=u.get(),n=t[e.url];n===undefined&&(n=[]);var i=-1;return r.each(n,function(t,n){t.id===e.id&&(i=n)}),i!==-1?n[i]=e:n.push(e),t[e.url]=n,u.set(t),e},f=function(e,t){var n=u.get(),i=n[e.url];try{if(e.id===undefined)return console.log(n[e.url]),t.success(n[e.url]),n[e.url];var s=-1;r.each(i,function(t,n){t.id===e.id&&(s=n)});if(s!==-1)return t.success(e),n[e.url][s];t.error(t.error,e)}catch(o){t.error(t.error,e)}},l=a,c=function(e,t){var n=u.get(),i=n[e.url],s=-1;try{return r.each(i,function(t,n){if(t===undefined)return;t.id===e.id&&(s=n)}),i.splice(s,1),n[e.url]=i,u.set(n),t.success(e),i}catch(o){t.error(t.error,e)}},h=function(e,t,n){switch(e){case"create":return a(t,n);case"read":return f(t,n);case"update":return l(t,n);case"delete":return c(t,n)}};n.exports=h}),define("#util/0.1.1/util",["./route/route","./cookie/cookie","./gif/gif","./gif.css","./dialog/dialog","./verify/verify","./verify/verification","./stateMachine/stateMachine","./rightClickMenu/rightClickMenu","./ajax/ajax","./slide/slide","./scaffold/scaffold","./upload/upload","./rpc/rpc","./rpc/rpcContainer","./rpc/client/rpcClient","./rpc/transport/httpClientTransport","./localStorageSync/sync","#jquery/1.8.2/jquery","#underscore/1.4.2/underscore","#bootstrap/2.2.1/bootstrap","#easing/1.3.0/easing","#backbone/0.9.2/backbone"],function(e,t,n){var r={route:e("./route/route"),cookie:e("./cookie/cookie"),gif:e("./gif/gif"),dialog:e("./dialog/dialog"),verify:e("./verify/verify"),stateMachine:e("./stateMachine/stateMachine"),rightClickMenu:e("./rightClickMenu/rightClickMenu"),ajax:e("./ajax/ajax"),slide:e("./slide/slide"),scaffold:e("./scaffold/scaffold"),upload:e("./upload/upload"),rpc:e("./rpc/rpc"),sync:e("./localStorageSync/sync")};n.exports=r});